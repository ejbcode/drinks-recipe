(this.webpackJsonpdrinks_recipe=this.webpackJsonpdrinks_recipe||[]).push([[0],{16:function(e,t,a){e.exports=a(42)},21:function(e,t,a){},22:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(6),l=a.n(r),o=(a(21),a(22),function(){return c.a.createElement("header",{className:"bg-success"},c.a.createElement("h1",null,"Drink\xb4s Recipe App"))}),s=a(1),i=a(3),u=a.n(i),m=a(5),d=a(4),f=a.n(d),b=Object(n.createContext)(),p=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)([]),i=Object(s.a)(o,2),d=i[0],p=i[1];return Object(n.useEffect)((function(){(function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([f()("https://www.thecocktaildb.com/api/json/v1/1/list.php?i=list"),f()("https://www.thecocktaildb.com/api/json/v1/1/list.php?c=list")]);case 2:t=e.sent,a=Object(s.a)(t,2),n=a[0],c=a[1],p(n.data.drinks),l(c.data.drinks);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),c.a.createElement(b.Provider,{value:{ingredient:d,category:r}},e.children)},v=Object(n.createContext)(),E=function(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)([]),i=Object(s.a)(o,2),d=i[0],b=i[1];console.log(r);var p="https://www.thecocktaildb.com/api/json/v1/1/filter.php?".concat(r);return Object(n.useEffect)((function(){null!==r&&function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get(p);case 2:t=e.sent,b(t.data.drinks);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[p,r]),c.a.createElement(v.Provider,{value:{setSearch:l,recipes:d}},e.children)},h=function(){var e=Object(n.useContext)(b),t=e.ingredient,a=e.category,r=Object(n.useContext)(v).setSearch,l=Object(n.useState)(""),o=Object(s.a)(l,2),i=o[0],u=o[1],m=function(e){r(e.target.value);var t=e.target.value.split("="),a=Object(s.a)(t,2),n=a[0],c=a[1];u("i"===n?"Result by ingredient ".concat(c):"Result by category ".concat(c))};return c.a.createElement("form",{className:"col-12"},c.a.createElement("fieldset",null,c.a.createElement("legend",{className:"my-0 py-0 text-center"},"Find a drink\xb4s recipe by ingredients or category")),c.a.createElement("div",{className:"row mt-4"},c.a.createElement("div",{className:"col-md-6"},c.a.createElement("select",{defaultValue:"DEFAULT",className:"form-control",name:"name",onChange:m},c.a.createElement("option",{value:"DEFAULT",disabled:!0},"Choose an Ingredient ..."),t.map((function(e){return c.a.createElement("option",{value:"i=".concat(e.strIngredient1),key:e.strIngredient1},e.strIngredient1)})))),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("select",{className:"form-control",name:"category",defaultValue:"DEFAULT",onChange:m},c.a.createElement("option",{value:"DEFAULT",disabled:!0},"Choose a category ..."),a.map((function(e){return c.a.createElement("option",{value:"c=".concat(e.strCategory),key:e.strCategory},e.strCategory)})))),c.a.createElement("h5",{className:"col-12  mt-3 mb-0 p-0"},i)))},j=Object(n.createContext)(),g=function(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)({}),i=Object(s.a)(o,2),d=i[0],b=i[1];return Object(n.useEffect)((function(){var e="https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=".concat(r);r&&(console.log("paso"),function(){var t=Object(m.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get(e);case 2:a=t.sent,b(a.data.drinks[0]);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()())}),[r]),console.log(d),c.a.createElement(j.Provider,{value:{id:r,setId:l,detail:d}},e.children)},O=(a(41),document.getElementById("modal-root"));var k=Object(n.forwardRef)((function(e,t){e.children;var a=e.fade,l=void 0!==a&&a,o=e.defaultOpened,i=void 0!==o&&o,u=Object(n.useState)(i),m=Object(s.a)(u,2),d=m[0],f=m[1],b=Object(n.useCallback)((function(){return f(!1)}),[]),p=Object(n.useContext)(j).detail;console.log(p),Object(n.useImperativeHandle)(t,(function(){return{open:function(){return f(!0)},close:b}}),[b]);var v=Object(n.useCallback)((function(e){27===e.keyCode&&b()}),[b]);return Object(n.useEffect)((function(){return d&&document.addEventListener("keydown",v,!1),function(){document.removeEventListener("keydown",v,!1)}}),[v,d]),Object(r.createPortal)(d?c.a.createElement("div",{className:"modal ".concat(l?"modal-fade":"")},c.a.createElement("div",{className:"modal-overlay",onClick:b}),c.a.createElement("span",{role:"button",className:"modal-close","aria-label":"close",onClick:b}),c.a.createElement("div",{className:"modal-body"},c.a.createElement("h2",null,p.strDrink),c.a.createElement("h3",{className:"mt-4"},"Instructions"),c.a.createElement("p",null,p.strInstructions),c.a.createElement("img",{src:p.strDrinkThumb,alt:"",className:"img-fluid my-4"}),c.a.createElement("h3",null,"Ingredients"),c.a.createElement("ul",null,function(e){console.log("hjk");for(var t=[],a=1;a<16;a++)e["strIngredient".concat(a)]&&t.push(c.a.createElement("li",null,e["strIngredient".concat(a)]," ",e["strMeasure".concat(a)]));return console.log(t),t}(p)))):null,O)})),y=function(e){var t=e.item,a=Object(n.useContext)(j).setId,r=Object(n.useState)(!1),l=Object(s.a)(r,2),o=(l[0],l[1]),i=Object(n.useRef)(null);return c.a.createElement("div",{className:"col-md-4 mb-3"},c.a.createElement("div",{className:"card"},c.a.createElement("h2",{className:"card-header"},t.strDrink),c.a.createElement("img",{src:t.strDrinkThumb,className:"card-img-top",loading:"lazy",alt:t.strDrink}),c.a.createElement("div",{className:"card-body"},c.a.createElement("button",{onClick:function(){a(t.idDrink),i.current.open(),o(!0)},type:"button",className:"btn btn-block btn-primary"},"See recipe"),c.a.createElement(k,{ref:i}))))},w=function(){var e=Object(n.useContext)(v).recipes;return c.a.createElement("div",{className:"row mt-2"},e.map((function(e){return c.a.createElement(y,{key:e.idDrink,item:e})})))};var N=function(){return c.a.createElement(p,null,c.a.createElement(E,null,c.a.createElement(g,null,c.a.createElement(o,null),c.a.createElement("div",{className:"container mt-5"},c.a.createElement("div",{className:"row"},c.a.createElement(h,null),c.a.createElement(w,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.2d9a0533.chunk.js.map